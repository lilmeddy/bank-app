<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="sign.css">
    <script src="https://www.gstatic.com/firebasejs/10.2.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.2.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.2.0/firebase-firestore-compat.js"></script>
</head>
<body>
    <section>
        <main class="content" id="block">
            <h1>Login to your account</h1>
            <p>Securely login to your PiggyVest</p>
            <form>
                <div class="form-txt">
                    <label for="Email">Email or Phone Number</label> <br>
                    <input type="Email" id="email">
                </div>
    
                <div class="form-txt">
                    <label for="password">Password</label> <br>
                    <input type="password" id="password">
                </div>
            </form>
            <!-- <a href="dashboard.html"> -->
            <button onclick="log()">Log In</button>
            <!-- </a> -->
        </main>
        <div class="a-tag">
            <a href="sign.html">Don't have an account? Register</a> <br><br>
            <a href="">Forgot Password?</a>
        </div>
        <i class='bx bx-rotate-right bx-spin bx-rotate-90' id="none" ></i>
    </section>
    
</body>
</html>

<script>
    
    const firebaseConfig = {
        apiKey: "AIzaSyCZRt5ZugU3gYBuKEWAAdbgdtCoIuizGJ4",
        authDomain: "bank-56c80.firebaseapp.com",
        projectId: "bank-56c80",
        storageBucket: "bank-56c80.appspot.com",
        messagingSenderId: "278093243224",
        appId: "1:278093243224:web:268d9c364c7d4e5f577b2d"
    };
    const app = firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();
</script>
<script>
        let email = document.getElementById("email")
    let password = document.getElementById("password")
    let block = document.getElementById("block")
    let none = document.getElementById("none")
    none.style.display ="none"
      function log(){
        none.style.display ="block"
        block.style.display ="none"
        // event.preventDefault(ev)
  
        firebase.auth().signInWithEmailAndPassword(email.value, password.value)
  .then((userCredential) => {
    // Signed in
    none.style.display ="none"
    var user = userCredential.user;
    let currentUser = firebase.auth().currentUser
    console.log(user);
    window.location.href ="dash.html"
    // ...
  })
  .catch((error) => {
    var errorCode = error.code;
    var errorMessage = error.message;
    alert(errorMessage)
  });
      }
</script>